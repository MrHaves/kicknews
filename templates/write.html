{% extends 'base.html' %}
{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'js/wysihtml5/stylesheet.css' %}">
{% endblock head %}

{% block style %}
	{{block.super}}
	#id_text {
		width: 100%;
		height: 500px;
	}

	#id_title {
		width: 500px;
	}

	input[type=text] {
		height: 30px!important
	}
	input[type=checkbox] {
		vertical-align: top!important
	}

	label[for="id_category"] {
		margin-left: 20px;
	}
{% endblock style %}

{% block menu %}

<li class="dropdown">
	<a href="#" class="dropdown-toggle pull-right" data-toggle="dropdown">
	  Menu
	  <b class="caret"></b>
	</a>
	<ul class="dropdown-menu">
		<li><a href="/">home</a></li>
		<li><a href="/categories">articles</a></li>
		<li><a href="/preferences">preferences</a></li>
		<li><a href="/logout">logout</a></li>
		<li><a href="/login">login</a></li>
		<li><a href="/register">register</a></li>
	</ul>
</li>
<li>
<div id="wysihtml5-toolbar" style="display: none;">
  <ul class="commands">
	  <li data-wysihtml5-command="bold" title="Make text bold (CTRL + B)" class="command" href="javascript:;" unselectable="on"></li>
	  <li data-wysihtml5-command="italic" title="Make text italic (CTRL + I)" class="command" href="javascript:;" unselectable="on"></li>
	  <li data-wysihtml5-command="insertUnorderedList" title="Insert an unordered list" class="command" href="javascript:;" unselectable="on"></li>
	  <li data-wysihtml5-command="insertOrderedList" title="Insert an ordered list" class="command" href="javascript:;" unselectable="on"></li>
	  <li data-wysihtml5-command="createLink" title="Insert a link" class="command" href="javascript:;" unselectable="on"></li>
	  <li data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" title="Insert headline 1" class="command" href="javascript:;" unselectable="on"></li>
	  <li data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" title="Insert headline 2" class="command" href="javascript:;" unselectable="on"></li>
	  <li data-wysihtml5-action="change_view" title="Show HTML" class="action" href="javascript:;" unselectable="on"></li>
	</ul>
	<div data-wysihtml5-dialog="createLink" style="display: none;">
        <label>
          Link:
          <input data-wysihtml5-dialog-field="href" value="http://">
        </label>
        <a data-wysihtml5-dialog-action="save">OK</a>&nbsp;<a data-wysihtml5-dialog-action="cancel">Cancel</a>
      </div>
</div>
</li>

{% endblock menu %}

{% block content %}
	<form action="/write" method="POST" id="write_form" class="form-inline">
		<div class="well">
			<p><label for="id_title">{{form.title.label}}</label> : 
			{{form.title}}
			<label for="id_category">{{form.category.label}}</label> : 
			{{form.category}}</p>

			<p><label for="id_published">Publish Now ?</label> 
			{{form.published}}</p>
		</div>


		<label for="id_text">Article content</label> : 
		{{form.text}}<br><br>
		<p>
			<input class="btn btn-primary" type="submit" value="Poster un article">
		</p>
	</form>
{% endblock content %} 

{% block script %}
<!-- wysihtml5 parser rules -->
<script src="{% static 'js/wysihtml5/advanced.js' %}"></script>
<!-- Library -->
<script src="{% static 'js/wysihtml5/wysihtml5-0.3.0.min.js' %}"></script>
<script>
	$(document).ready(function() {
		var editor = new wysihtml5.Editor("id_text", { // id of textarea element
			toolbar:      "wysihtml5-toolbar", // id of toolbar element
			parserRules:  wysihtml5ParserRules // defined in parser rules set 
		});
	});
</script>
{% endblock script %}